## 公告板块

### websocket接口文档



请求端口：ws://127.0.0.1:443/ws



接受服务器信息：

| 字段名 | 类型   | 说明                               |
| ------ | ------ | ---------------------------------- |
| state  | 字符串 | 返回服务器websocket连接状态        |
| data   | json   | 其中包含messageCount是指公告的数量 |

业务详情：轮询信息提示

1、当用户进入主页，建立websocket时，服务器应发送以下数据显示用户信息。

2、当管理员发布公告，已连接websocket的用户应该实时收到公告，此时服务器更新，需要向用户发送以下数据。

```
contextTable:{
state:"connect",
data:{
messageCount: 0,
}
}
```











#### http接口文档

请求地址：http://127.0.0.1:5000

端口号：/search_all_tab

方法：get

| 字段名    | 类型   | 说明             |
| --------- | ------ | ---------------- |
| date      | 字符串 | 返回公告发布时间 |
| title     | 字符串 | 公告内容         |
| feedback  | 列表   | 包含反馈用户信息 |
| systemMsg | 列表   | 包含系统公告内容 |
| recycle   | 列表   | 包含用户已读信息 |

```
示例：
contextTable：{
feedback: [{
                    date: '2018-04-19 20:00:00',
                    title: '【系统通知】该系统将于今晚凌晨2点到5点进行升级维护',
                },{
                    date: '2018-04-19 21:00:00',
                    title: '今晚12点整发大红包，先到先得',
                }],
                systemMsg: [{
                    date: '2018-04-19 20:00:00',
                    title: '【系统通知】该系统将于今晚凌晨2点到5点进行升级维护'
                }],
                recycle: [{
                    date: '2018-04-19 20:00:00',
                    title: '【系统通知】该系统将于今晚凌晨2点到5点进行升级维护'
                }], },
```

